!function(e){var t,a;e((function(){var n=e(".available-headers");n.length&&n.imagesLoaded((function(){n.masonry({itemSelector:".default-header",isRTL:!("undefined"==typeof isRtl||!isRtl)})})),e(document).on("click","div .library-link",(function(n){var r=e(this);a=this.name,n.preventDefault();var o=r.data("option"),d=r.data("uploader"),l=r.data("icon-check")&&r.attr("data-icon-check");o&&o.indexOf(",")>0&&(o=o.split(",")),(t=wp.media.frames.customHeader=wp.media({title:r.data("choose"),library:{type:o},uploader:d,button:{text:r.data("update"),close:!0}})).on("select",(function(){var n=t.state().get("selection").first(),r=n.attributes.url,o=n.attributes.alt,d=n.attributes.filename,c=e('input[name="'+a+'"]:not([type="button"])'),s=e("#"+a+"_img"),i=e('input[type="text"][id="'+a+'_filename"]'),m=e('input[type="text"][id="'+a+'_alt_text"]');if("true"!==l)c.length&&c.val(r),s.length&&s.attr("src",r),i.length&&i.val(d),m.length&&m.val(o);else{var u={action:"caweb_fav_icon_check",icon_url:r};jQuery.post(ajaxurl,u,(function(e){1==e?(c.length&&c.val(r),s.length&&s.attr("src",r),i.length&&i.val(d)):alert("Invalid Icon Mime Type: "+d)}))}})),t.on("open",(function(){if(!d){var e=t.el.getElementsByClassName("media-frame-router")[0].getElementsByClassName("media-router")[0].getElementsByClassName("media-menu-item");e[1].click(),e[0].parentNode.removeChild(e[0])}})),t.open()}))}))}(jQuery),jQuery(document).ready((function(e){e("#caweb-alert-banners").length&&(e("#caweb-alert-banners").sortable(),e("#caweb-alert-banners").disableSelection()),e(".remove-alert").click((function(e){t(this)})),e("#add-alert").click((function(a){var n,r,o,d,l,c,s,i;a.preventDefault(),n=e("#caweb-alert-banners"),r=e(n).children("li").length+1,o=document.createElement("LI"),d=document.createElement("DIV"),e(o).addClass("pl-2"),e(d).addClass("form-row"),e(d).append((l=r,c=document.createElement("A"),s=document.createElement("H2"),i=document.createElement("SPAN"),e(c).addClass("d-block text-decoration-none"),e(c).attr("href","#alert-banner-"+l),e(c).attr("aria-expanded","true"),e(c).attr("aria-controls","alert-banner-"+l),e(c).attr("data-toggle","collapse"),e(s).addClass("d-inline"),e(s).html("Label"),e(i).addClass("text-secondary ca-gov-icon-"),e(s).append(i),e(c).append(s),c)),e(d).append("\x3c!-- Alert Options --\x3e"),e(d).append(function(a){var n=document.createElement("DIV"),r=document.createElement("INPUT"),o=document.createElement("BUTTON");return e(r).attr("type","checkbox"),e(r).attr("checked","true"),e(r).attr("data-toggle","toggle"),e(r).attr("name","alert-status-"+a),e(r).attr("id","alert-status-"+a),e(r).addClass("form-control"),e(o).addClass("btn btn-danger remove-alert ml-1"),e(o).html("Remove"),o.addEventListener("click",(function(e){t(this)})),e(n).append(r),e(n).append(o),e(r).bootstrapToggle({onstyle:"success"}),n}(r)),e(d).append("\x3c!-- Alert Banner Fields --\x3e"),e(d).append(function(t){var a=document.createElement("DIV");return e(a).attr("id","alert-banner-"+t),e(a).addClass("form-row col-sm-12 p-2 collapse show"),e(a).append("\x3c!-- Alert Banner Title --\x3e"),e(a).append(function(t){var a=document.createElement("DIV"),n=document.createElement("LABEL"),r=document.createElement("SMALL"),o=document.createElement("INPUT");return e(a).addClass("form-group col-sm-7"),e(n).attr("for","alert-header-"+t),e(n).addClass("mb-0"),e(n).html("<strong>Title</strong>"),e(r).html("Enter header text for the alert."),e(r).addClass("text-muted d-block mb-2"),e(o).addClass("form-control"),e(o).attr("type","text"),e(o).val("Label"),e(o).attr("placeholder","Label"),e(o).attr("id","alert-header-"+t),e(o).attr("name","alert-header-"+t),e(a).append(n),e(a).append(r),e(a).append(o),a}(t)),e(a).append("\x3c!-- Alert Banner Message --\x3e"),e(a).append(function(t){var a=document.createElement("DIV"),n=document.createElement("LABEL"),r=document.createElement("SMALL"),o=document.createElement("TEXTAREA");return e(a).addClass("form-group col-sm-12"),e(n).attr("for","alert-message-"+t),e(n).html("<strong>Message</strong>"),e(r).addClass("text-muted d-block mb-2"),e(r).html("Enter message for the alert"),e(o).attr("name","alert-message-"+t),e(o).attr("id","alertmessage-"+t),e(o).addClass("wp-editor-area"),e(o).html("Enter Alert text here..."),e(a).append(n),e(a).append(r),e(a).append(o),a}(t)),e(a).append("\x3c!-- Alert Banner Settings --\x3e"),e(a).append(function(t){var a=document.createElement("DIV");return e(a).addClass("form-group col-sm-12"),e(a).append("\x3c!-- Display On --\x3e"),e(a).append(function(t){var a=document.createElement("DIV"),n=document.createElement("LABEL"),r=document.createElement("SMALL"),o=document.createElement("DIV"),d=document.createElement("INPUT"),l=document.createElement("LABEL"),c=document.createElement("DIV"),s=document.createElement("INPUT"),i=document.createElement("LABEL");return e(a).addClass("form-group col-sm pl-0"),e(a).attr("role","radiogroup"),e(a).attr("aria-label","Alert Display On Options"),e(n).addClass("d-block mb-0"),e(n).html("<strong>Display on</strong>"),e(r).addClass("text-muted d-block mb-2"),e(r).html("Select whether alert should display on home page or on all pages."),e(o).addClass("form-check form-check-inline"),e(d).attr("id","alert-display-home-"+t),e(d).attr("name","alert-display-"+t),e(d).attr("type","radio"),e(d).val("home"),e(d).attr("checked","true"),e(d).addClass("form-check-input"),e(l).addClass("form-check-label"),e(l).attr("for","alert-display-home-"+t),e(l).html("Home Page Only"),e(c).addClass("form-check form-check-inline"),e(s).attr("id","alert-display-all-"+t),e(s).attr("name","alert-display-"+t),e(s).attr("type","radio"),e(s).val("all"),e(s).addClass("form-check-input"),e(i).addClass("form-check-label"),e(i).attr("for","alert-display-all-"+t),e(i).html("All Pages"),e(o).append(d),e(o).append(l),e(c).append(s),e(c).append(i),e(a).append(n),e(a).append(r),e(a).append(o),e(a).append(c),a}(t)),e(a).append("\x3c!-- Banner Color --\x3e"),e(a).append(function(t){var a=document.createElement("DIV"),n=document.createElement("LABEL"),r=document.createElement("SMALL"),o=document.createElement("INPUT");e(a).addClass("form-group col-sm pl-0"),e(n).attr("for","alert-banner-color-"+t),e(n).addClass("d-block mb-0"),e(n).html("<strong>Banner Color</strong>"),e(r).addClass("text-muted d-block mb-2"),e(r).html("Select a color for the alert banner."),e(o).attr("id","alert-banner-color-"+t),e(o).attr("name","alert-banner-color-"+t),e(o).attr("type","color"),e(o).addClass("form-control-sm");var d=e("#ca_site_color_scheme")[0],l=d.options[d.selectedIndex].value;return e(o).val(caweb_admin_args.caweb_colors[l].highlight),e(a).append(n),e(a).append(r),e(a).append(o),a}(t)),e(a).append("\x3c!-- Read More --\x3e"),e(a).append(function(t){var a=document.createElement("DIV"),n=document.createElement("LABEL"),r=document.createElement("A"),o=document.createElement("INPUT");return e(a).addClass("form-group pl-0"),e(n).addClass("d-block mb-0"),e(n).html("<strong>Read More Button</strong>"),e(r).attr("data-toggle","collapse"),e(r).attr("href","#alert-banner-read-more-"+t),e(r).attr("aria-expanded","true"),e(r).addClass("shadow-none"),e(o).attr("type","checkbox"),e(o).attr("checked","true"),e(o).attr("name","alert-banner-read-more-"+t),e(o).attr("id","alert-banner-read-more-"+t),e(o).addClass("form-control"),e(r).append(o),e(a).append(n),e(a).append(r),e(o).bootstrapToggle(),a}(t)),e(a).append(function(t){var a=document.createElement("DIV"),n=document.createElement("DIV"),r=document.createElement("LABEL"),o=document.createElement("INPUT"),d=document.createElement("SMALL"),l=document.createElement("DIV"),c=document.createElement("INPUT"),s=document.createElement("LABEL"),i=document.createElement("DIV"),m=document.createElement("INPUT"),u=document.createElement("LABEL");return e(a).attr("id","alert-banner-read-more-"+t),e(a).addClass("collapse show"),e(n).addClass("form-group col-sm-6 pl-0"),e(r).addClass("d-block mb-0"),e(r).html("<strong>Read More Button Text</strong>"),e(o).attr("type","text"),e(o).attr("name","alert-read-more-text-"+t),e(o).attr("id","alert-read-more-text-"+t),e(o).attr("maxlength",16),e(o).addClass("form-control"),e(d).addClass("text-muted"),e(d).html("(Max Characters: 16)"),e(l).addClass("form-group col-sm-6 pl-0 d-inline-block"),e(s).addClass("d-block mb-0"),e(s).html("<strong>Read More Button Url</strong>"),e(c).attr("type","text"),e(c).attr("name","alert-read-more-url-"+t),e(c).attr("id","alert-read-more-url-"+t),e(c).addClass("form-control"),e(i).addClass("form-group col-sm-4 pl-0 d-inline-block align-top"),e(u).addClass("d-block mb-0"),e(u).html("<strong>Open link in New Tab</strong>"),e(m).attr("type","checkbox"),e(m).attr("checked","true"),e(m).attr("data-toggle","toggle"),e(m).attr("name","alert-read-more-target-"+t),e(m).attr("id","alert-read-more-target-"+t),e(m).addClass("form-control"),e(n).append(r),e(n).append(o),e(n).append(d),e(l).append(s),e(l).append(c),e(i).append(u),e(i).append(m),e(a).append(n),e(a).append(l),e(a).append(i),e(m).bootstrapToggle({on:"Yes",off:"No"}),a}(t)),e(a).append("\x3c!-- Banner Icon --\x3e"),e(a).append(function(t){var a=document.createElement("DIV");e(a).addClass("form-group col-sm-12 d-inline-block pl-0");var n={action:"caweb_icon_menu",name:"alert-icon-"+t,select:"important",header:"Icon"};return e.post(ajaxurl,n,(function(t){e(a).html(t)})),a}(t)),a}(t)),a}(r)),e(o).append("\x3c!-- Alert Banner Row --\x3e"),e(o).append(d),e(n).append(o),wp.editor.initialize("alertmessage-"+r,caweb_admin_args.tinymce_settings),changeMade=!0}));var t=function(t){1==confirm("Are you sure you want to remove this alert? This can not be undone.")&&(changeMade=!0,e(t).parent().parent().parent().remove())}})),jQuery(document).ready((function(e){function t(t){var a=e(t).find("LI");for(o=0;o<a.length-1;o++)e(a[o]).removeClass("active");var n=e(t).find("input");n.length&&e(n).val("")}e(document).on("click",".caweb-icon-menu li",(function(a){!function(a){t(e(a).parent()),e(a).addClass("active");var n=e(a).parent().find("input");n.length&&e(n).val(e(a).attr("title"))}(this)})),e(document).on("click",".caweb-icon-menu-header .resetIcon",(function(a){t(e(this).parent().next())}))})),jQuery(document).ready((function(e){e('select[id$="ca_site_version"]').on("change",(function(){var t=e('select[id$="ca_site_color_scheme"]'),a=t.val(),n=caweb_admin_args.caweb_colorschemes[e(this).val()];t.empty(),e.each(n,(function(n,r){var o=document.createElement("OPTION");e(o).val(n),e(o).html(r.displayname),n===a&&e(o).attr("selected","selected"),t.append(o)}))}))})),jQuery(document).ready((function(e){e("#uploaded-css, #uploaded-js").length&&(e("#uploaded-css, #uploaded-js").sortable(),e("#uploaded-css, #uploaded-js").disableSelection()),e(".remove-css, .remove-js").click((function(e){e.preventDefault(),1==confirm("Are you sure you want to remove "+this.title+"? This can not be undone.")&&(changeMade=!0,this.parentNode.remove())})),e("#add-css, #add-js").click((function(t){t.preventDefault();var a=e(this).attr("id").replace("add-","");!function(t,a){var n=document.createElement("LI"),r=document.createElement("INPUT"),o=document.createElement("a");n.classList="list-group-item",e(r).attr("type","file"),e(r).attr("name","caweb_external_"+a+"[]"),e(r).attr("accept","."+a),e(r).attr("data-section","custom-"+a),e(r).addClass("form-control-file border-bottom border-warning pl-2 d-inline-block w-75"),r.addEventListener("change",(function(){var t=this.value.substring(this.value.lastIndexOf("\\")+1),n=t.lastIndexOf(".")>0?t.substring(t.lastIndexOf(".")+1).toLowerCase():"";""===n||a!==n?(alert(t+" isn't a valid "+a+" extension and was not uploaded."),e(this).parent().remove()):o.title="remove "+t})),o.classList="dashicons dashicons-dismiss text-danger align-middle",o.addEventListener("click",(function(t){t.preventDefault(),1==(""===this.title||confirm("Are you sure you want to "+this.title+"? This can not be undone."))&&(changeMade=!0,e(this).parent().remove())})),e(n).append(o),e(n).append(r),e(t).append(n)}(e("#uploaded-"+a),a),changeMade=!0}))})),jQuery(document).ready((function(e){"use strict";function t(){var t=e(this).attr("id").substr(e(this).attr("id").lastIndexOf("-")+1),a=e("#menu-item-"+t),n=e("#menu-item-settings-"+t+" .icon-selector"),r=e("#menu-item-settings-"+t+" .media-image"),o=e("#menu-item-settings-"+t+" .field-description"),d=e("#menu-item-settings-"+t+" .mega-menu-images"),l=e("#menu-item-settings-"+t+" .unit-size-selector"),c=e(l).val();e(a).hasClass("menu-item-depth-0")?(e(d).removeClass("hidden"),e(n).removeClass("hidden"),e(r).addClass("hidden"),e(l).parent().addClass("hidden"),e(o).addClass("hidden-field")):(e(d).addClass("hidden"),e(l).parent().removeClass("hidden"),"unit1"!==c?e(o).addClass("hidden-field"):e(o).removeClass("hidden-field"),"unit3"===c?(e(n).addClass("hidden"),e(r).removeClass("hidden")):(e(n).removeClass("hidden"),e(r).addClass("hidden")))}e(document).on("click",'input[name="save_menu"]',(function(t){e('.media-image:not(.hidden) input[name$="_caweb_nav_media_image_alt_text"]').each((function(a,n){if(""===e(n).val().trim()){var r=e(n).attr("id").substring(0,e(n).attr("id").indexOf("_")),o=e("#edit-menu-item-title-"+r).val();alert(o+" Navigation Media Image Alt Text can not be blank."),t.preventDefault()}}))})),e(document).on("change","div .unit-size-selector",(function(){var t=e(this).attr("id").substr(e(this).attr("id").lastIndexOf("-")+1),a=e("#menu-item-settings-"+t+" .icon-selector"),n=e("#menu-item-settings-"+t+" .media-image"),r=e("#menu-item-settings-"+t+" .field-description"),o=e(this).val();"unit1"===o?e(r).addClass("hidden-field"):e(r).removeClass("hidden-field"),"unit3"===o?(e(n).removeClass("hidden"),e(a).addClass("hidden")):(e(n).addClass("hidden"),e(a).removeClass("hidden"))})),e(document).on("DOMSubtreeModified","#menu-to-edit",(function(){e(".pending a.item-edit").each((function(a,n){e(n).on("click",t)}))})),e(".item-edit").click(t)})),jQuery(document).ready((function(e){"use strict";var t=!1;e(window).on("beforeunload",(function(){if(t&&"nav-menus.php"!==caweb_admin_args.changeCheck)return"Are you sure you want to leave?"})),e("#caweb-options-form select,#caweb-options-form input").on("change",(function(){t=!0})),e("#caweb-options-form input").on("input",(function(){t=!0})),e('#caweb-options-form input[type="button"],#caweb-options-form button:not(.doc-sitemap)').on("click",(function(){t=!0})),e("#caweb-options-form").submit((function(a){a.preventDefault();var n=e('input[name="caweb_external_css[]"], input[name="caweb_external_js[]"]'),r=!1;e(n).each((function(t){if(""===e(this).val()&&!r){r=!0;var a="#"+e(this).attr("data-section");e(a).collapse("show"),alert("Uploaded "+e(this).attr("data-section").replace("-"," ")+" has no file chosen.")}})),r||(t=!1,this.submit())})),e(".menu-list li a").on("click",(function(t){e(this).parent().parent().find("li").each((function(t,a){e(a).removeClass("selected")})),e(this).parent().addClass("selected"),e('input[name="tab_selected"]').val(e(this).attr("href").replace("#",""))})),e("#resetFavIcon").click((function(){var a=caweb_admin_args.defaultFavIcon,n=a.substring(a.lastIndexOf("/")+1);e('input[type="text"][name="ca_fav_ico"]').val(n),e('input[type="hidden"][name="ca_fav_ico"]').val(a),e("#ca_fav_ico_img").attr("src",a),t=!0})),e("#ca_google_search_id").on("input",(function(t){var a=e('label[for="ca_frontpage_search_enabled"]').parent();this.value.trim()?a.removeClass("invisible"):a.addClass("invisible")})),e("#ca_x_ua_compatibility").on("change",(function(t){var a=this.checked,n=e(this).parent().next();a?n.html("IE 11 browser compatibility enabled. Warning: creates accessibility errors when using IE browsers."):n.html("")})),e("#ca_google_tag_manager_approved").on("change",(function(t){this.checked?(e("#ca_google_analytic_id").attr("readonly",!0),e("#ca_google_analytic_id").addClass("hidden")):(e("#ca_google_analytic_id").attr("readonly",!1),e("#ca_google_analytic_id").removeClass("hidden"))})),e("#ca_google_tag_manager_id").on("input",(function(t){this.value.trim()||e("#ca_google_tag_manager_approved").bootstrapToggle("off")})),e('input[name^="ca_google_trans_enabled"]').click((function(){"ca_google_trans_enabled_custom"!==e(this).attr("id")?e("#ca_google_trans_enabled_custom_extras").collapse("hide"):e("#ca_google_trans_enabled_custom_extras").collapse("show")})),e("button.doc-sitemap").click((function(t){t.preventDefault();e.post(ajaxurl,{action:"create_doc_sitemap"},(function(t){e(".doc-sitemap-update").html(t)}))}))}));